# GitHub 协作指南

> 帮助团队成员在仓库中高效提交、评审与获取编译结果。

## 基本操作流程

1. **获取最新代码**：`git pull` 同步主分支。
2. **创建分支**：`git checkout -b feature/<内容>` 或 `fix/<问题>`，保持分支目的清晰。
3. **提交**：按规范撰写提交信息（祈使句），一个提交聚焦一类改动。
4. **推送**：`git push -u origin <分支名>`。
5. **发起 Pull Request**：说明改动范围、影响章节、需要关注的格式/引用问题。
6. **评审**：根据评论调整，确保对话已 resolved。
7. **合并**：通过后由维护者合并，触发自动编译。

## 查看自动编译结果

- 合并进默认分支后，GitHub Actions 会自动编译 PDF。
- 访问仓库的 **Actions** 标签页，选择最新的工作流运行记录：
  - 查看日志确认编译是否成功。
  - 在页面右侧 **Artifacts** 下载 `main.pdf`（名称可能因配置而异）。

## 提交与 PR 规范

- 提交信息：祈使句，如 `Update methods section tables`。必要时在正文列出要点。
- PR 描述：概述改动、影响范围、测试/编译情况，@相关评审人。
- 变更粒度：将文档重构、图表更新等拆分为独立提交或 PR，便于审阅。

## 冲突与回溯

- 解决冲突前先 `git fetch`，确保基于最新主分支重放 (`rebase`)。
- 避免强推主分支；如需回滚，请与维护者确认并使用 `git revert` 保留历史。
- 重要版本可把编译 PDF 与摘要放入 `archive/<日期>/` 目录，便于记录。

## 常见问题

- **推送失败**：检查分支名是否正确、是否需要先 `git pull --rebase`。
- **CI 未触发**：确认 PR 已合并到默认分支；草稿状态或未合并时不会触发主线编译。
- **编译失败**：在本地运行 `latexmk -xelatex -output-directory=tmp main.tex` 定位错误，再提交修复。
