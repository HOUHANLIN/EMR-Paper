# 介绍

电子病历（EMR）作为临床诊疗过程的核心载体，其质量与生成效率直接关系到医疗安全与医护人员的工作负荷。然而，电子病历的普及在带来数字化便利的同时，也显著增加了医生的文档工作。研究表明，医生花费在病历书写上的时间可达其总工作时间的
30%
以上，这种日益繁重的文档压力直接导致了职业倦怠与工作满意度下降。因此，探索能够高效、准确生成电子病历的新方法，已成为提升临床工作效率的关键课题。

语音输入技术被视为理想的解决方案之一，但现行方法在专科临床应用中存在明显瓶颈。首先，基于深度学习的通用自动语音识别（ASR）模型虽在通用领域表现良好，但对人名、地名及复杂的医学术语等低频词汇识别准确率不足，易出现误识别。其次，尽管大型语言模型（LLM）展现出强大的语言理解与生成能力，但其在生成完整病历文本时存在的"幻觉"现象，即输出错误或虚构信息，这给临床治疗带来了不可忽视的安全风险。

幸运的是，技术发展也为解决这些问题提供了契机。一方面，ASR
模型可通过引入专科热词库、错词库与术语库进行定向优化，显著提升对专业词汇的识别准确率；另一方面，基于
Transformer 架构的 LLM
具备强大的信息提取与映射能力，通过微调技术可使其精准地从文本中抽取关键信息片段，而非不可控地生成全文，这为从根源上降低"幻觉"风险提供了可能。已有研究证实，经过适配的
LLM
在临床文本汇总任务中可超越医学专家，这预示着其在减轻临床文档负担方面的巨大潜力。

目前，尤其缺乏针对口腔学科等专业场景的生成式病历软件。为此，本研究旨在创新性地将优化后的
ASR 模型与可控的 LLM
信息提取技术相结合，提出一种专科适配的语音生成电子病历新方法。该方法的核心在于通过词库优化
ASR 识别、引导 LLM
进行精准的槽位信息提取与绑定，从而在保证病历真实性与安全性的前提下，最大限度提升临床文档效率，为改善医护人员工作体验提供有效的技术支撑。

# 实验设计（Study Design）

本研究采用回顾性测试与前瞻性验证相结合的系统开发与评估方案，旨在构建并评估一个基于语音交互与大型语言模型的智能电子病历生成系统。核心创新在于将大语言模型限定为"信息提取与映射器"，采用模板化槽位填充范式，通过严格限定模型角色与输出形式提升生成内容的安全性与可控性。

研究整体遵循一个"迭代优化"的闭环验证框架（图 [1](#fig:overall_workflow){reference-type="ref"
reference="fig:overall_workflow"}），该框架在总体上对系统进行统一评估，并通过回顾性测试与前瞻性临床队列验证相结合的双重测试体系逐层推进，既完成前期性能核验，又实现临床场景落地验证。整体流程依次包含以下五个阶段：

1.  数据输入与 ASR 预处理：将医生口述语音转换为规范化文本；

2.  LLM
    信息提取与结构化映射：从文本中精准提取关键信息并填入结构化模板槽位；

3.  信息验证与纠正：对提取信息进行自动化逻辑检查与纠错；

4.  病历生成与输出：生成结构化电子病历并进入人机协同审核流程；

5.  迭代优化：基于审核与评估反馈持续优化系统组件与参数。

实验重点在于比较本系统与普通生成式大模型（不依赖模板填充的自由生成模式）在信息准确性、幻觉控制、结构规范性和书写效率等方面的差异。

## 双重测试体系设计

为实现"实验室性能校验$\rightarrow$临床场景验证"的全链路评估，本研究构建回顾性测试与前瞻性临床队列验证的双重测试体系，二者在设计上形成结构对称、目标互补的验证逻辑，为系统性能的全面评估提供支撑。

### 回顾性测试

#### 测试目的

承担系统临床准入前的基础性能核验职能，评估系统是否具备进入临床应用的核心能力，为后续前瞻性临床评估筑牢前置验证基础；同时验证系统在跨专科场景下的信息提取与病历生成适配性，初步判定其技术可行性。

#### 测试数据来源

从光华口腔医院信息系统中抽取经脱敏处理的真实电子病历构成回顾性测试集，病例专科分布以口腔种植专科为主，同时纳入口腔正畸、牙周病等相关科室病例，用于验证跨专科适配性；脱敏标准为去除姓名、联系方式、住址、证件号码等直接身份标识及可间接识别个体的诊疗关联隐私信息，脱敏流程经医院伦理委员会审核。

#### 测试流程与评估指标

对每份真实病例，由经过训练的志愿者根据原始病历内容在安静环境中完成语音复刻，获得与电子病历一一对应的语音文件。以脱敏电子病历作为金标准病历，围绕本系统设计两类测试任务：

- **基准比对**：以金标准病历为评估基准，从信息提取准确度、文本相似度、术语规范性、幻觉发生率等多维度对系统输出进行量化评估；

- **效率对照**：同步统计传统键盘录入生成同等质量病历所需的时间与修改负担，形成系统辅助下与传统书写方式的基础效能对比数据。

### 前瞻性临床队列验证

#### 研究对象与分组

选取 202X 年 X 月---202X 年 X 月光华口腔医院种植科共 30
名临床医师作为研究对象，按随机数字表法分为试验组（15
名，使用智能电子病历生成系统）和对照组（15 名，使用传统键盘录入方式）。

#### 纳入与排除标准

纳入标准如下：

1.  光华口腔医院种植科执业医师，工作年限 $\geq 1$ 年；

2.  熟练掌握传统键盘录入病例的方法，具备基本计算机操作能力；

3.  自愿参与本研究，签署知情同意书；

4.  试验期间能保证至少 80% 的工作时间使用指定录入方式。

排除标准如下：

1.  存在语言表达障碍或听力障碍，无法正常使用语音输入功能；

2.  工作岗位为行政或科研岗，临床病例录入工作量每周 $<5$ 例；

3.  试验期间因休假、调岗等原因无法完成全程测试；

4.  对测试系统相关技术存在过敏或使用禁忌。

#### 样本量与试验周期

参考既往类似研究，以病例录入耗时为主要结局指标，假设对照组平均录入耗时为
12 min/例，试验组为 6 min/例，标准差均为 3
min，$\alpha=0.05$，$\beta=0.2$，采用配对 t
检验样本量公式计算，需每组至少 12 名医师；考虑 10% 脱落率，最终纳入 30
名医师，每组 15 名。试验周期为 3 个月。

#### 观测指标

所有数据采用 SPSS 26.0 进行统计分析，核心观测指标分为三类：

- 效率指标：两组医师单份病例录入总耗时、日均完成病历数量；

- 质量指标：病例完整性评分（参照金标准病历槽位覆盖标准）、信息准确率、诊疗逻辑一致性达标率；

- 主观与安全指标：用户操作满意度评分（5 级 Likert
  量表）、不良事件（数据泄露、系统故障）发生情况。

## 研究对象与数据来源（Subjects and Data Sources）

### 研究对象与虚拟病例构建

本研究采用"虚拟病例开发 +
真实病例测试"的设计。模型开发阶段（训练集与验证集）采用由口腔种植专科临床专家基于日常诊疗经验模拟构建的虚拟病例；模型测试阶段则使用来自真实临床电子病历的脱敏病例。

用于训练集与验证集的虚拟病例由来自光华口腔医院的 7
名口腔种植专科医生参与病例设计，最终构建了 420
个虚拟病人。每个虚拟病人均包含完整、连贯的病程与诊疗过程信息，至少包括：

- 人口学信息（虚构的年龄、性别等）；

- 主诉与现病史；

- 既往史、过敏史、个人史及家族史；

- 相关检查结果（如影像学与实验室检查，采用合理的模拟数值与描述）；

- 初步诊断与治疗计划；

- 手术或随访记录（如适用）。

### 语音与文本数据构建

对于训练集与验证集中的每个虚拟病人，病例设计专家首先撰写一份结构化、规范化的黄金标准电子病历（golden
EMR），作为后续系统输出对照文本。随后，专家在安静环境中，按照日常门诊问诊与病历书写习惯，以自然口语形式口述该虚拟病例的病情与诊疗过程，录制形成对应的语音文件。每个虚拟病例至少包含：

- 1 份专家撰写的黄金标准 EMR；

- 1 段与之对应的专家口述语音（可覆盖不同就诊时间点或不同专家的描述）；

- 一份由研究团队整理的结构化病例要点，用于支持模板设计与字段定义完善。

对于回顾性测试集中的真实病例，除完成前述脱敏与语音复刻外，同步由研究团队基于原始病历形成对应的金标准
EMR；随后由经过统一培训的志愿者在安静环境中，参考原始电子病历内容，按照医生日常问诊与病历书写习惯以自然口语形式进行口述录音，获得与每份真实病历对应的语音文件。真实病例同样以口腔种植专科为主，并包含少量其他相关科室的病例。前瞻性试验的临床实时病历，则由参与医师在诊疗结束后，同步完成金标准病历的回溯标注，确保评估基准的统一性。

如语音录制中存在明显杂音、严重中断或长时间无效静音，要求重新录制，以保证语音数据质量满足
ASR 评估与系统验证需求。图 3 展示了系统界面的实际交互过程，从 \*，到系统
\*的关键步骤。

### 伦理与合规性

本研究涉及专家构建的虚拟病例、回顾性脱敏真实病历以及前瞻性临床试验数据。所有真实病例在纳入前均已完成去标识化处理，仅保留与研究相关的诊疗信息，不包含任何可直接或间接识别患者身份的个人隐私字段。前瞻性试验已通过医院伦理委员会审批（审批编号：
***[\*]{.sans-serif}***），所有参与医师均签署知情同意书。

研究方案已提交
***[\*]{.sans-serif}***伦理委员会/审查机构审查，并获得批准（审批编号：
***[\*]{.sans-serif}***）。伦理委员会认定，本研究属于使用去标识化临床数据的低风险/豁免研究，允许在严格数据安全管理与访问控制前提下，将上述数据用于本课题的方法学开发与性能评估。

## 数据预处理与标准化（Data Preprocessing and Normalization）

### 语音预处理与 ASR 模型配置

所有原始语音经统一的预处理流程，包括：

- 环境噪声抑制与滤波；

- 静音段检测与切分，去除长时间静默与无效片段；

- 音频格式统一至采样率 ***[\*]{.sans-serif}***Hz、位深
  ***[\*]{.sans-serif}***bit 的单声道 PCM 格式（或其他格式：
  ***[\*]{.sans-serif}***）。

预处理后的语音输入至专科优化的自动语音识别（ASR）模型进行转写，生成初始文本。该
ASR
模型通过引入专科热词库提升对口腔种植相关术语、药品名称和检查项目的识别准确率。

ASR 模型信息如下：

- ASR 模型名称： ***[\*]{.sans-serif}***；

- 模型版本： ***[\*]{.sans-serif}***；

- 模型部署位置： ***[\*]{.sans-serif}***（如院内 GPU 服务器 / 私有云 /
  公有云服务等）；

- 训练/微调语料规模：约 ***[\*]{.sans-serif}***小时口腔专科语音数据；

- 特征与声学参数：采样率 ***[\*]{.sans-serif}***Hz，使用
  ***[\*]{.sans-serif}***特征（如 MFCC / FBank 等）；

- 内部验证集上的性能：词错误率（Word Error Rate, WER）：
  ***[\*]{.sans-serif}***；句错误率（Sentence Error Rate, SER）：
  ***[\*]{.sans-serif}***。

上述指标用于表征 ASR 模块的基础性能，为后续系统整体性能分析提供背景。

### 文本标准化处理

对 ASR 转写文本与黄金标准 EMR
文本统一进行标准化处理，以降低非规范表达对评估与下游处理的影响，主要包括：

- 术语库（terminology
  lexicon）映射：将口语化表达、别名、缩写等映射为标准医学术语，如将
  "松牙" 标准化为 "牙齿松动（
  ***[\*]{.sans-serif}***）"，将通俗药品名映射为规范通用名或编码；

- 错词库（error lexicon）纠错：基于以往 ASR
  错误模式和本研究预实验中发现的常见错识别构建错词库，对高频错误进行自动化替换与纠正。

经上述处理，最终获得两类规范化文本对：（1）规范化转写文本；（2）规范化黄金标准
EMR，用于后续信息提取评估与文本相似度计算。

### 数据集划分

以病例为单位，采用"虚拟病例用于开发、真实病例用于测试"的划分策略：将全部虚拟病例随机划分为训练集与验证集，比例为
***[\*]{.sans-serif}***:
***[\*]{.sans-serif}***；经脱敏处理的真实病例单独构成独立测试集。

## 系统流程与模型方法（System Workflow and Model Methods）

系统流程包括 ASR 识别与文本标准化、模板匹配与槽位设计、LLM
信息处理以及病历生成与人工审核。实验设置两种核心模式进行对比：模板填充 +
信息提取模式（实验组）与普通生成式（非模板填充）模式（对照组）。整体端到端临床落地流程如图 [2](#fig:system_workflow){reference-type="ref"
reference="fig:system_workflow"} 所示，从语音输入及 ASR 预处理开始，经
LLM 信息提取与槽位填充，最终生成结构化电子病历，并在
***[\*]{.sans-serif}***等场景中形成闭环应用。

### 模板库设计与管理

#### 模板来源与构建依据

模板库由口腔种植专科医生基于临床路径、院内病历书写规范及相关诊疗指南协同设计而成。主要依据包括：

- 院内标准化电子病历模板文档： ***[\*]{.sans-serif}***；

- 国内外口腔种植相关诊疗指南与专家共识： ***[\*]{.sans-serif}***；

- 专家对日常临床文书书写习惯的经验总结。

模板库覆盖口腔种植常见场景，如初诊病历、复诊及随访、术前评估和术后/并发症随访等。目前模板库包含
***[\*]{.sans-serif}***份结构化模板，由
***[\*]{.sans-serif}***名专科医生共同审阅确认。

#### 槽位结构与字段定义

每份模板由若干预定义槽位（slots）组成，用于承载结构化信息，典型槽位包括但不限于：基本信息、主诉、现病史、既往史/过敏史/个人史/家族史、口内/体格检查要点、辅助检查结果、初步诊断与鉴别诊断、治疗计划、手术记录与术中要点、随访与疗效评价。

为便于系统实现与后续统计分析，每个槽位定义以下属性：槽位名称与说明；数据类型（文本型、枚举型---值域为
***[\*]{.sans-serif}***、日期型---统一采用
***[\*]{.sans-serif}***格式、数值型---单位为
***[\*]{.sans-serif}***）；必填/选填标记；是否允许多值（如药品清单、既往史等）。具体字段列表与数据类型配置在本研究中以附录或补充材料形式给出（记为
***[\*]{.sans-serif}***）。

#### 模板更新机制

为适应临床实践变化和指南更新，模板库设计了版本管理与更新机制。触发条件包括：新版诊疗指南或规范发布（如
***[\*]{.sans-serif}***年版
***[\*]{.sans-serif}***指南）、临床专家反馈的槽位缺失或定义不合理、试用阶段评估显示模板影响信息完整性或可用性。

模板更新流程为：至少
***[\*]{.sans-serif}***名专科专家联合提出修改建议；召开模板评审会议形成修订版本；为模板分配新版本号（如
v
***[\*]{.sans-serif}***），旧版本归档保存；在系统中统一切换至新版本模板。本研究所有虚拟病例均基于模板库的
***[\*]{.sans-serif}***版本生成，以保证实验一致性。

### LLM 模型配置与任务定义

#### LLM 模型信息

为保证方法透明与可复现性，本研究明确给出用于信息提取和生成对照的 LLM
配置信息：

- 模型名称： ***[\*]{.sans-serif}***；

- 模型版本： ***[\*]{.sans-serif}***；

- 参数量：约 ***[\*]{.sans-serif}***亿参数（
  ***[\*]{.sans-serif}***B）；

- 部署位置： ***[\*]{.sans-serif}***（如院内 GPU 服务器 / 私有云集群 /
  公有云 API 等）；

- 推理环境与框架：如 PyTorch ***[\*]{.sans-serif}***+ CUDA
  ***[\*]{.sans-serif}***/ 其他： ***[\*]{.sans-serif}***；

- 最大上下文长度： ***[\*]{.sans-serif}***tokens；

- 解码策略：temperature = ***[\*]{.sans-serif}***，top-k =
  ***[\*]{.sans-serif}***，top-p = ***[\*]{.sans-serif}***。

上述模型配置在实验组与对照组中保持一致，确保对比公平。

#### 实验组：信息提取 + 槽位映射模式

在模板填充系统中，LLM
被限定为"信息提取器"，任务是从规范化转写文本中提取与各槽位对应的原始文本片段，而非生成新内容。

**输入**：规范化转写文本；对应病历模板的槽位定义与字段说明。

**任务定义**：解析每个槽位所需的信息类型与格式要求；在转写文本中定位与该槽位匹配的原始表述；将结果以结构化形式输出为"槽位
$\rightarrow$ 文本片段"的映射表。

**输出形式**：可为 JSON 或其他结构化格式（具体为
***[\*]{.sans-serif}***），其中每个字段对应一个模板槽位及其抽取内容。

在该模式下，LLM
明确被指令要求不得发明或扩展转写文本中不存在的信息，从设计上降低医学幻觉风险。

#### 对照组：普通生成式（非模板填充）模式

对照系统使用同一 LLM
模型，但采用自由生成范式：输入为规范化转写文本，提示词例如"请根据以下问诊记录撰写一份完整的口腔种植电子病历"，不提供模板与槽位信息；模型直接生成结构化或半结构化病历文本，不受槽位结构约束；生成文本直接进入评估与医生修改环节，用于模拟"ASR +
通用生成式 LLM"的常见应用方式。

### 病历生成与人机协同审核

实验组中，系统生成的"槽位 $\rightarrow$
文本片段"映射结果被自动填入模板，生成结构化电子病历草案。草案呈现给临床专家或模拟使用者，进行逐项审核与必要修改，形成"系统辅助生成版病历"。对照组中，医生直接对普通生成式
LLM 输出的完整病历文本进行审核与修改。

## 金标准病历的界定与信息类核心评测标准

为确保双重测试体系下评估结果的客观性与专业性，本研究首先明确金标准病历的核心定义，并建立针对信息覆盖率与信息提取度的量化评测标准，为后续多维度评估提供统一基准。

### 金标准病历的核心定义

本研究中的**金标准病历**是指基于口腔种植专科临床诊疗规范、院内电子病历书写标准及权威诊疗指南构建的，具备完整结构、规范术语、准确诊疗逻辑的结构化电子病历，是评估智能病历生成系统性能的基准参照。其定义包含以下三层核心属性：

1.  **结构完整性**：需严格匹配口腔种植专科预设病历模板的全量槽位，涵盖基础信息模块（患者基本人口学特征、就诊时间/科室）、诊疗信息模块（主诉、现病史、既往史/过敏史、口腔专科检查、辅助检查结果）、诊疗决策模块（初步诊断/鉴别诊断、治疗计划、手术记录/随访建议）共
    3 大类 18 个核心槽位（具体槽位清单见附录），无关键信息模块缺失。

2.  **术语规范性**：所有医学表述需符合《口腔种植学名词》《国际口腔医学术语标准》及院内专科术语库要求，禁止口语化或非规范缩写（如"种牙"需规范为"口腔种植修复术"，"松牙"需规范为"牙体松动（分度需明确）"）；药品、器械名称需匹配国家药监局标准名录及院内耗材编码，检查项目需对应影像学/实验室标准命名。

3.  **诊疗逻辑一致性**：病历中各模块信息需具备临床诊疗逻辑闭环，如"主诉--检查结果--诊断结论--治疗方案"需因果对应（例：主诉"上颌前牙缺失
    3 月"需对应"上颌 11、12
    牙列缺损"的检查结论，及"上颌前牙区种植体植入 +
    冠修复"的治疗计划），且无诊疗方案与患者病史（如过敏史）冲突的逻辑谬误。

### 金标准病历的来源与质控体系

本研究结合不同测试场景的特性，为金标准病历设定差异化的来源路径，并配套建立针对性的质控体系，以保障评估基准的统一性与可靠性：

1.  **虚拟病例金标准**：由具有 $\geq$
    ***[\*]{.sans-serif}***年口腔种植专科临床经验的执业医师，依据院内规范病历模板及典型诊疗场景完成虚拟病例的初版撰写，直接作为模型开发与验证阶段的金标准病历，病例构建过程严格遵循专科诊疗共识，确保病历内容契合临床实际诊疗逻辑与文书规范。

2.  **回顾性测试集金标准**：从光华口腔医院信息系统临床归档病历中直接抽调口腔种植专科医师完成的真实电子病历，此类病历为临床诊疗结束后按院内文书规范完成的归档版本，已纳入医院常规临床文书质控流程，可直接作为回顾性测试的评估基准。

3.  **前瞻性验证金标准**：由参与试验的临床医师在完成当日诊疗工作后，同步对照院内种植科规范病历模板，结合实时诊疗记录完成标准病历的撰写，作为前瞻性临床队列验证的评估基准。

4.  **统一质控抽检机制**：对上述三类来源的金标准病历按 10%
    比例实施分层随机抽检，由科室质控专家对抽检病历的槽位完整性、术语规范性及诊疗逻辑关联性进行复核，通过抽检结果实现对批次金标准病历整体质量的核验与把控。

### 信息覆盖率的评测标准

信息覆盖率用于评估智能系统生成病历对金标准病历中核心信息的完整覆盖程度，分为字段级覆盖率与内容级覆盖率两个维度。

#### 字段级覆盖率

字段级覆盖率定义为系统生成病历中已填充的必填槽位数量占金标准病历总必填槽位数量的比例，聚焦"结构层面的信息完整性"。计算公式为：
$$\text{字段级覆盖率} = \frac{\text{系统生成病历已填充的必填槽位数量}}{\text{金标准病历总必填槽位数量}} \times 100\%.$$
字段级覆盖率 $\geq 95\%$ 视为"优秀"，85%--94% 为"良好"，75%--84%
为"合格"，$<75\%$
为"不合格"；其中"初步诊断""治疗计划"等核心诊疗槽位若未覆盖，直接判定为"不合格"。

#### 内容级覆盖率

内容级覆盖率定义为系统生成病历中各槽位内实际包含的有效诊疗信息点数量，占金标准病历对应槽位信息点总量的比例，聚焦"内容层面的信息完整性"。单槽位与整体内容覆盖率分别定义为：
$$\text{单槽位内容覆盖率} = \frac{\text{系统槽位中匹配金标准的有效信息点数量}}{\text{金标准对应槽位信息点总量}} \times 100\%,$$
$$\text{整体内容覆盖率} = \frac{\sum (\text{单槽位内容覆盖率} \times \text{槽位临床权重})}{\sum \text{槽位临床权重}} \times 100\%.$$
权重根据槽位临床重要性设定，如"初步诊断"权重 0.2，"既往史"权重
0.08，具体权重表见附录。以口腔种植专科为例，"口腔专科检查"槽位的信息点需细化至牙位（如
11、26）、牙槽骨骨量（高度/宽度）、邻牙状态等最小诊疗单元；"治疗计划"需细化至种植体品牌/型号、植骨方式、修复体类型等具体信息。

### 信息提取度的评测标准

信息提取度用于评估智能系统从语音输入中提取关键信息并映射至金标准病历槽位的精准度，结合客观量化指标与专科主观核验实现多维评估。

#### 客观量化指标

基于信息检索领域的经典指标，对各槽位信息分别计算精确率（Precision）、召回率（Recall）与
F1 分数：
$$\text{精确率} = \frac{\text{系统提取的正确信息数量}}{\text{系统提取的总信息数量}} \times 100\%,$$
$$\text{召回率} = \frac{\text{系统提取的正确信息数量}}{\text{金标准病历中的总信息数量}} \times 100\%,$$
$$F_1 = 2 \times \frac{\text{精确率} \times \text{召回率}}{\text{精确率} + \text{召回率}}.$$
针对口腔种植专科高价值信息（如种植体型号、牙槽骨骨量数值、手术入路、术后医嘱时长），单独计算提取准确率，要求此类信息提取精确率与召回率均需
$\geq 98\%$，方可判定为"专科适配性达标"。

#### 专科主观核验标准

邀请 3 名未参与系统开发的口腔种植医师，对系统提取信息的临床可用性进行 5
级量表评分（1 表示完全不可用，5
表示无需修改可直接使用），评分维度包括术语匹配度（提取术语是否符合专科规范）、数值准确性（骨量、植体型号等量化信息是否无偏差）和逻辑关联性（提取信息是否与患者整体诊疗场景匹配，无信息割裂或矛盾）。若客观
F1 分数 $\geq 0.9$ 但主观评分 $<4$
分，则判定为"技术达标但临床适配不足"，需进一步优化术语映射规则。

### 评测实施与质量控制

评测主体由 1 名医学信息学工程师负责客观指标计算，2
名口腔种植专科医师完成主观核验，若主观评分分歧 $>1$ 分，则引入第 3
名专家进行仲裁。主观核验需通过 Kappa 检验，保证评分者间一致性 Kappa 值
$\geq 0.8$，以确保评估结果的可靠性。若语音录制本身存在信息缺失（如医生口述未提及过敏史），系统需在对应槽位标注"信息未获取"，此类情况不计入信息提取度误差，仅判定为"信息未覆盖"并纳入覆盖率统计。

## 评估设计（Evaluation Design）

研究从信息准确性、幻觉控制、文本质量与规范性以及书写效率四个维度对实验组与对照组进行比较。

### 信息提取与文本质量评估

在测试集上，对两种系统分别评估：

- **信息提取准确度**：实验组直接将系统输出的每个槽位内容与对应病例的黄金标准
  EMR 字段比对，计算精确率（Precision）、召回率（Recall）与 F1
  分数；对照组由研究人员依据预定义规则从生成式文本中抽取相应字段，再与黄金标准
  EMR 对照，计算相同指标。

- **文本相似度与信息覆盖度**：使用 BERTScore 评估生成文本与黄金标准 EMR
  在语义层面的相似性；使用 ROUGE-L 评估生成文本与黄金标准 EMR
  的信息覆盖度和篇章重合度。

### 幻觉与主观质量评估

邀请
***[\*]{.sans-serif}***名未参与系统开发与病例构建的口腔种植专科医生，采用盲评方式对测试集病历进行主观评价。每位专家随机阅读实验组和对照组生成的病历文本，并使用
5 级 Likert
量表从信息完整性、术语准确性、逻辑一致性、结构规范性、临床实用性、可读性、安全性等维度评分。

同时要求专家标注每份病历是否存在"幻觉"现象（定义为生成文本中出现与病例源文本〔虚拟病例脚本或真实电子病历〕及黄金标准
EMR
不符，且未在语音输入中出现的虚构信息或明显违背临床常识的内容），统计两种系统的幻觉发生率。

### 书写效率与修改负担评估

为评估不同系统对病历书写效率的影响，选取
***[\*]{.sans-serif}***名医生在统一实验环境下，使用以下三种方式完成一组病例的病历书写任务：传统键盘录入；对照组（普通生成式
LLM）；实验组（模板填充式系统）。对每份病历记录从"开始录入/口述"到"最终确认"的总耗时、从系统输出到最终确认的修改时间，以及修改操作数量（如编辑/增删字段次数，记为
***[\*]{.sans-serif}***），比较实验组与对照组在总耗时与修改负担上的差异。

### 消融实验

为分析不同生成范式的独立贡献，在测试集上设计以下消融版本：

- 版本 A（自由生成式 LLM）：保留 ASR 与文本预处理，但将 LLM
  模式改为自由生成，不使用模板与槽位结构，由模型直接生成完整病历文本。

将完整系统（模板约束的信息提取与槽位填充模式）与版本 A 在 F1
分数、BERTScore、ROUGE-L、幻觉发生率以及专家主观评分方面进行比较，以验证信息提取范式相对于自由生成范式的实际贡献。

## 统计学分析（Statistical Analysis）

所有统计分析采用 ***[\*]{.sans-serif}***软件（如 SPSS
***[\*]{.sans-serif}***版或 R
***[\*]{.sans-serif}***版本）完成。连续型变量以均值 $\pm$
标准差或中位数（四分位数）表示，并根据 Shapiro--Wilk
检验结果判断正态性；对同一样本在不同系统下的配对比较（如病历书写耗时）采用配对
t 检验或 Wilcoxon
符号秩检验（视正态性而定）；分类变量（如幻觉发生率）采用卡方检验或
Fisher 精确检验；Likert 量表评分采用非参数检验（如 Mann--Whitney U
检验或 Kruskal--Wallis 检验）；显著性水平统一设定为双侧
$p < 0.05$；对多重比较采用 ***[\*]{.sans-serif}***方法（如 Bonferroni
校正等）进行校正。

# 结果

## 客观性能评估结果

### 回顾性测试性能表现

#### 信息提取准确度

针对 ***[\*]{.sans-serif}***份回顾性测试病历的 18
个核心槽位评估显示，系统整体精确率达 ***[\*]{.sans-serif}***，召回率达
***[\*]{.sans-serif}***，F1 分数达
***[\*]{.sans-serif}***；其中"初步诊断""治疗计划"等关键槽位 F1
分数均超过
***[\*]{.sans-serif}***，种植体型号、牙槽骨骨量等专科高价值信息提取精确率与召回率均达
***[\*]{.sans-serif}***以上，满足"专科适配性达标"要求。

#### 信息覆盖率

系统生成病历的字段级覆盖率达 ***[\*]{.sans-serif}***，整体内容覆盖率达
***[\*]{.sans-serif}***，核心诊疗槽位内容覆盖率均 $\geq %
  \stepcounter{todoctr}%
  {\small\textbf{\textit{\textsf{*\thetodoctr}}}}$，信息覆盖水平判定为"优秀"。

#### 文本相似度与规范性

生成病历与金标准病历的 BERTScore 均值达 ***[\*]{.sans-serif}***，ROUGE-L
均值达 ***[\*]{.sans-serif}***；经术语库优化后，文本术语规范率达
***[\*]{.sans-serif}***，较未优化前提升
***[\*]{.sans-serif}***，有效降低了 ASR
识别误差对病历质量的影响。多提示词与多评分者下的精确率、召回率与 F1
分数分布如图 [4](#fig:multi_prompt_performance){reference-type="ref"
reference="fig:multi_prompt_performance"}
所示，文本相似度与规范性指标的对比见图 [5](#fig:text_similarity){reference-type="ref"
reference="fig:text_similarity"}。

### 前瞻性验证性能表现

#### 效率指标

试验组平均病例录入耗时 ***[\*]{.sans-serif}*** min/例 显著短于对照组
***[\*]{.sans-serif}*** min/例（$P<0.001$）；试验组日均完成病历数量为
***[\*]{.sans-serif}***份，显著高于对照组的
***[\*]{.sans-serif}***份（$P<0.01$）。不同临床场景下人工书写与系统辅助书写的时间分布比较见图 [7](#fig:efficiency_violin){reference-type="ref"
reference="fig:efficiency_violin"}，展示了整体、急诊、单科会诊和多科会诊等场景中系统带来的效率提升。

#### 质量指标

试验组病例完整性评分（均值 $\pm$ 标准差）为
***[\*]{.sans-serif}***分，高于对照组的
***[\*]{.sans-serif}***分（$P<0.001$）；两组信息准确率无统计学差异（$P>0.05$）；试验组诊疗逻辑一致性达标率为
***[\*]{.sans-serif}***，与对照组的
***[\*]{.sans-serif}***相当（$P>0.05$）。

#### 主观与安全指标

试验组用户满意度评分为 ***[\*]{.sans-serif}***分，显著高于对照组的
***[\*]{.sans-serif}***分（$P<0.001$）；试验期间未发生严重数据泄露或系统故障等不良事件。

## 主观质量评估结果

### 临床专家盲评得分

#### 综合质量表现

***[\*]{.sans-serif}***名资深临床专家（副主任医师及以上）的盲评结果显示，生成病历在
Likert 量表 7 个评估维度的平均得分均超过 ***[\*]{.sans-serif}***分（5
分制）。其中结构规范性（ ***[\*]{.sans-serif}***分）和术语准确性（
***[\*]{.sans-serif}***分）得分最高，信息完整性（
***[\*]{.sans-serif}***分）和逻辑一致性（
***[\*]{.sans-serif}***分）表现优异，临床实用性（
***[\*]{.sans-serif}***分）和可读性（
***[\*]{.sans-serif}***分）均满足临床应用需求，安全性（
***[\*]{.sans-serif}***分）评分证实系统无隐私信息泄露风险。

#### 专科专家评价差异

不同专科专家对本专科场景生成病历的评分无显著差异（$P>0.05$），且均高于对通用场景病历的评分，表明模板库与专科优化策略适配临床实际需求。医生偏好与多维度质量对比结果汇总于图 [6](#fig:preference_risk){reference-type="ref"
reference="fig:preference_risk"}，其中包括总体偏好量表、不同任务得分分布、读者偏好比例以及风险评估等模块；图 [8](#fig:likert_radar){reference-type="ref"
reference="fig:likert_radar"}
展示主诉、既往史、检查、诊断和治疗计划等关键模块上的评分差异，为主观质量章节提供更细粒度的可视化证据。

### 幻觉现象专项评估

在 ***[\*]{.sans-serif}***份测试病历中，仅出现
***[\*]{.sans-serif}***例幻觉现象，幻觉发生率为
***[\*]{.sans-serif}***。对比实验显示，通用生成式 LLM 的幻觉发生率为
***[\*]{.sans-serif}***，本系统通过"信息提取 + 模板约束"的设计，显著抑制了幻觉风险（$P<0.001$）。

## 消融实验结果

### 信息提取范式的优势

将 LLM 改为自由生成模式后，幻觉发生率升至
***[\*]{.sans-serif}***，较原设计（
***[\*]{.sans-serif}***）显著升高（$P<0.001$）；文本相似度指标中，BERTScore
降至 ***[\*]{.sans-serif}***，ROUGE-L 降至
***[\*]{.sans-serif}***，且病历结构规范性评分下降至
***[\*]{.sans-serif}***分，表明限定 LLM
为"信息提取器"并采用结构化模板约束的设计能同时保障安全性、准确性与规范性。相关对比如图 [9](#fig:ablation){reference-type="ref"
reference="fig:ablation"} 所示。

## 迭代优化效果验证

经过 ***[\*]{.sans-serif}***个月的临床试用与数据迭代，系统回收并脱敏处理
***[\*]{.sans-serif}***份有效病历数据，用于更新错词库、术语库及模型微调。迭代后，ASR
专科术语识别准确率提升 ***[\*]{.sans-serif}***个百分点，LLM 信息提取 F1
分数提升 ***[\*]{.sans-serif}***个百分点，医生审核修改率从
***[\*]{.sans-serif}***降至
***[\*]{.sans-serif}***，实现了系统性能的持续优化，验证了闭环验证框架的有效性。

<figure id="fig:overall_workflow" data-latex-placement="htbp">
<img src="media/media/大模型评估流程.jpg" />
<figcaption>模型–方法–任务的医疗大模型评估总流程，展示多模型比较、方法配置以及多类医疗任务在“定量评估–临床读者研究–安全分析”三阶段闭环中的整体关系。</figcaption>
</figure>

<figure id="fig:system_workflow" data-latex-placement="htbp">
<img src="media/media/端到端临床流程.jpg" />
<figcaption>实验设计步骤与端到端临床落地流程，从语音输入与 ASR
预处理，经信息提取与槽位填充，到结构化病历生成与应用场景（初诊、随访、前病史采集等）的闭环工作流。</figcaption>
</figure>

<figure id="fig:wechat_interaction" data-latex-placement="htbp">
<img src="media/media/微信助手交互.jpg" />
<figcaption>微信助手交互界面示意，从患者通过智能助手完成语音/文本问答，到系统基于提示词与大模型将自然语言对话转换为结构化病历的实际生成流程。</figcaption>
</figure>

<figure id="fig:multi_prompt_performance" data-latex-placement="htbp">
<img src="media/media/多提示词信息提取性能.jpg" />
<figcaption>GPT-3.5 与 GPT-4
在多提示词设置下信息提取任务的精确率、召回率与 F1
分数比较（箱线/蜡烛图），展示不同提示词与不同评分者下性能差异。</figcaption>
</figure>

<figure id="fig:text_similarity" data-latex-placement="htbp">
<img src="media/media/文本相似度与规范性.jpg" />
<figcaption>文本相似度与规范性结果：BERTScore 与 ROUGE-L
指标对比条形图，反映系统生成病历在语义一致性和信息覆盖度方面相较基线方法的优势。</figcaption>
</figure>

<figure id="fig:preference_risk" data-latex-placement="htbp">
<img src="media/media/偏好与风险对比.jpg" />
<figcaption>医疗大模型与临床医生在病历摘要任务中的偏好与风险对比，包括偏好量表、各任务得分、读者偏好分布、临床危害程度评估以及典型实例示例。</figcaption>
</figure>

<figure id="fig:efficiency_violin" data-latex-placement="htbp">
<img src="media/media/病历书写耗时对比.jpg" />
<figcaption>病历书写耗时对比小提琴图，在整体、急诊、单科会诊和多科会诊等不同临床场景中，对比人工书写与本系统辅助书写的时间分布与效率增益。</figcaption>
</figure>

<figure id="fig:likert_radar" data-latex-placement="htbp">
<img src="media/media/主观质量雷达图.jpg" />
<figcaption>Likert
雷达图展示临床专家在主诉、既往史、检查、诊断、治疗计划等多维度上的主观质量评分分布，用于补充主观评分的细粒度差异信息。</figcaption>
</figure>

<figure id="fig:ablation" data-latex-placement="htbp">
<img src="media/media/消融实验对比.jpg" />
<figcaption>模板约束的信息提取系统与自由生成式
LLM 版本的客观与主观指标对比，包括信息提取 F1
分数、文本相似度指标及幻觉发生率等。</figcaption>
</figure>

# 讨论

本研究旨在设计并评估一款基于语音输入的生成式病历系统，该系统采用专科词库预处理、LLM
信息提取映射、召回校验等多重环节，有效辅助医生生成专业化、结构化病历。实验结果显示，该系统在生成病例的完整性、准确性、专业度方面基本符合标准病历要求（**部分存在改进空间**），在时效性上显著优于人工记录，系统生成病历的综合质量得到专家盲评认可。

本研究的结果与已有的 LLM 医学文本处理研究呈现出部分一致性，LLM
在处理医学文本时具有较高的完整性和准确性，效率显著优于人工记录[@song2025llm]。在处理常见的幻觉问题时，本系统也同样采用模型训练与再次核验相结合的设计[@zhang2025mr]。

特别值得关注的是，本系统采用信息提取与映射的思路，从医生语音中提取关键信息，填入模板的空白槽位，避免
LLM
模型无中生有，从源头上规避幻觉。虽已有研究关注分段化、模块化信息提取，但主要关注点在于提取信息的效率[@moser2025pipeline]。本研究采用提取模块化信息并填充模板，更关注消除
AI 幻觉现象。根据幻觉评估显示，本系统相对于通用 LLM
模型，幻觉出现率降低。

同时，模板化病历的标准化和完整性也得到验证。本系统以口腔种植科为例，提供多细分科室、多阶段临床模板，模板涵盖对应手术病历的关键信息。应用于其他临床学科时，可根据专科病历要求自由设计新模板，以适应不同科室的记录需求。

预处理和召回纠正环节在确保信息准确度上具有重要意义。预处理环节实现了对语音转录结果的初步专业化处理，召回纠正把控病历输出前的最后一关。两个环节均主要依托
LLM
模型。本系统的优势在于模型经过专业热词库、错词库、术语库的训练，能够显著提升
ASR
预处理和二次召回纠正的准确度与专业性。通过词库限定信息来源，可在一定程度上保证内容的可信度。随着实践应用中数据库的扩大与更新，词库数据将不断积累与演化，使模型能够灵活适应临床用词的发展变化，完成自我更新迭代。

## 局限性

本研究以口腔种植科为例，训练数据主要来源于单一医院（光华口腔医院），在样本规模、来源与学科覆盖范围方面存在局限性，可能导致模型存在一定偏差。

本研究成果与真实临床环境的适配度仍缺乏系统的实践检验。不同医生的病历书写习惯能否良好适配预设病历模板，罕见病和特殊情况是否能够通过系统进行充分而专业的处理，特殊信息（如牙位、扭矩等数字信息）能否被精确提取，以及隐私保护和医患双方接受度等实际应用问题，仍有待在后续研究中进一步探讨与验证。

# 结论

本研究构建的专科适配型语音生成电子病历系统，通过"ASR 专科词库优化 + LLM
槽位信息提取"的技术路径，有效降低了大模型幻觉风险，提升了病历生成的准确性与规范性；同时，本研究建立的回顾性与前瞻性双重测试体系，及金标准病历的界定与信息评测标准，完善了专科智能病历系统的评估体系。临床验证证实，该系统能显著提升临床病例录入效率和完整性，且保持较高的信息准确性，用户接受度良好，为口腔医疗场景下的病历数字化提供了实用且可控的解决方案，也为其他专科智能病历系统的研发与评估提供了参考范式。

::: thebibliography
99

Joel Jia Wei Ng, et al. Evaluating the performance of artificial
intelligence-based speech recognition for clinical documentation: a
systematic review. *BMC Medical Informatics and Decision Making*,
25(1):236, 2025. doi:10.1186/s12911-025-03061-0. URL:
<https://doi.org/10.1186/s12911-025-03061-0>. Accessed 2025-11-06.

Yan Hu, et al. Information extraction from clinical notes: are we ready
to switch to large language models? arXiv:2411.10020 \[cs\], 2025.
doi:10.48550/arXiv.2411.10020. URL: <http://arxiv.org/abs/2411.10020>.
Accessed 2025-11-06.

RxNorm. U.S. National Library of Medicine. Product, Program, and Project
Descriptions. URL:
<https://www.nlm.nih.gov/research/umls/rxnorm/index.html>. Accessed
2025-11-06.

Improving domain-specific ASR with LLM-generated contextual
descriptions. URL: <https://arxiv.org/html/2407.17874v1>. Accessed
2025-11-06.

Deploying ambient clinical intelligence to improve care: a research
article assessing the impact of nuance DAX on documentation burden and
burnout. Available at:
<https://www.sciencedirect.com/science/article/pii/S2514664525002292>.
Accessed 2025-11-06.

Tyler Haberle, et al. The impact of nuance DAX ambient listening AI
documentation: a cohort study. *Journal of the American Medical
Informatics Association*, 31(4):975--979, 2024.
doi:10.1093/jamia/ocae022. URL: <https://doi.org/10.1093/jamia/ocae022>.
Accessed 2025-11-06.

impact of nuance DAX ambient listening AI documentation: a cohort study
\| Journal of the American Medical Informatics Association \| Oxford
Academic. URL:
<https://academic.oup.com/jamia/article/31/4/975/7606586>. Accessed
2025-11-06.

Song, J. W., Park, J., Kim, J. H., & You, S. C. (2025). Large Language
Model Assistant for Emergency Department Discharge Documentation. *JAMA
Network Open*, 8(10):e2538427. doi:10.1001/jamanetworkopen.2025.38427.
URL: <https://doi.org/10.1001/jamanetworkopen.2025.38427>.

Zhang, X., Zhao, G., Ren, Y., et al. (2025). Data augmented large
language models for medical record generation. *Applied Intelligence*,
55:88. doi:10.1007/s10489-024-05934-9. URL:
<https://doi.org/10.1007/s10489-024-05934-9>.

Moser, D., Bender, M., & Sariyar, M. (2025). A Pipeline for Automating
Emergency Medicine Documentation Using LLMs with Retrieval-Augmented
Text Generation. *Applied Artificial Intelligence*, 39(1):2519169.
doi:10.1080/08839514.2025.2519169. URL:
<https://doi.org/10.1080/08839514.2025.2519169>.
:::
